<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Day 12 Session 1 Practice</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script>
			// Recursive function

			let fact = (n) => {
				if (n <= 0) return 1;
				return n * fact(n - 1);
			};

			// New function

			const user_alert = new Function(
				"user_name",
				"user_email",
				"user_age",
				`return alert("Name: " + user_name + " Email: " + user_email + " Age: " + user_age )`
			);

			// Function callings
			// Closure function

			let showFeedback = () => {
				let feedbackText = document.getElementById("textArea").value;

				let returnText = (text) => {
					return function () {
						console.log(text);

						return text;
					};
				};

				let returnTextVal = returnText(feedbackText);

				console.log(feedbackText);

				document.getElementById("feedback").innerText = returnTextVal();
			};

			$(document).ready(function () {
				$(".fact-btn").click((e) => {
					e.preventDefault();
					let n = $(".fact-inp").val();
					$(".fact-inp").val("");
					if (n)
						$(".fact-p").html(
							"Factorial of " + n + " is: " + fact(n)
						);
					else $(".fact-p").html("");
				});
				$(".user-btn").click((e) => {
					e.preventDefault();
					let user_name = $(".user-name").val();
					let user_email = $(".user-email").val();
					let user_age = $(".user-age").val();
					if (user_name && user_email && user_age) {
						user_alert(user_name, user_email, user_age);
						$(".user-name").val("");
						$(".user-email").val("");
						$(".user-age").val("");
					} else alert("Please fill out all the fields!");
				});
			});
		</script>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
			crossorigin="anonymous"
		/>
		<style>
			body {
				text-align: center;
				align-items: center;
			}
			header {
				margin-top: 30px;
			}
			button {
				width: 175px;
			}
			.form-control {
				margin-top: 20px;
				margin-right: 5px;
				display: inline-block;
				width: 350px;
			}
			.user-article {
				margin-top: 30px;
			}
			.user-form {
				display: flex;
				flex-direction: column;
				align-items: center;
			}
			.user-btn {
				margin-top: 10px;
			}
			.feedback-col {
				display: flex;
				flex-direction: column;
				align-items: center;
			}
			textarea {
				width: 350px;
				margin-bottom: 20px;
			}
		</style>
	</head>
	<body>
		<header>
			<h2>Practicing functions implementation on button clicks.</h2>
		</header>
		<article>
			<form>
				<input
					type="number"
					class="form-control fact-inp"
					placeholder="Enter number to calculate factorial"
				/>
				<button
					type="submit"
					class="btn btn-outline-secondary fact-btn"
				>
					Calculate Factorial
				</button>
			</form>
			<p class="fact-p mt-3"></p>
		</article>
		<article class="user-article">
			<h3>Enter details to add to the list of users:</h3>
			<form class="user-form">
				<input
					type="text"
					class="form-control user-name"
					placeholder="Enter user's name"
				/>
				<input
					type="email"
					class="form-control user-email"
					placeholder="Enter user's email"
				/>
				<input
					type="number"
					class="form-control user-age"
					placeholder="Enter user's age"
				/>
				<button
					type="submit"
					class="btn btn-outline-secondary user-btn"
				>
					Create User
				</button>
			</form>
			<p class="fact-p mt-3"></p>
		</article>
		<article>
			<h5>Write your feedback in the below textarea</h5>

			<div class="feedback-col">
				<textarea id="textArea" rows="5"></textarea>

				<button
					onclick="showFeedback()"
					class="btn btn-outline-secondary"
				>
					Show Feedback
				</button>

				<p id="feedback"></p>
			</div>
		</article>
		<footer>Day 12 Task 1</footer>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
			crossorigin="anonymous"
		></script>
	</body>
</html>
